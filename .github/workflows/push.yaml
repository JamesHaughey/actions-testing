name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    outputs:
      backends: ${{ steps.json_properties.outputs.backends }}
      environments: ${{ steps.json_properties.outputs.environments }}
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - name: get properties
        id: json_properties
        uses: zoexx/github-action-json-file-properties@release
        with:
          file_path: ./environments.json

  Matrix-Job:
    runs-on: ubuntu-latest
    needs: Explore-GitHub-Actions
    strategy:
      matrix:
        backend: ${{fromJson(needs.Explore-GitHub-Actions.outputs.backends)}}
    steps:
      - run: echo ${{ matrix.backend }}
  ComplexMatrix-Job:
    runs-on: ubuntu-latest
    needs: Explore-GitHub-Actions
    strategy:
      matrix: ${{fromJson(needs.Explore-GitHub-Actions.outputs.environments)}}
    steps:
      - run: echo "Environment is ${{ matrix.name }}, layers are ${{ matrix.layers}}"